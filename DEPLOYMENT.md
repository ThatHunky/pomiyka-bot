# üöÄ –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –∑ –¥–µ–ø–ª–æ—é –ì—Ä—è–≥-–±–æ—Ç–∞

## üìã –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω

### 1. üìÅ –†–æ–∑–ø–∞–∫—É–≤–∞–Ω–Ω—è –∞—Ä—Ö—ñ–≤—É
```bash
# –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –∞—Ä—Ö—ñ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
unzip gryag-bot-v2.8-docker-optimized-*.zip
cd gryag-bot-*/
```

### 2. ‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
```bash
# –°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª –∑ –≤–∞—à–∏–º–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º–∏
cp .env.sample .env
nano .env
```

**–û–±–æ–≤'—è–∑–∫–æ–≤–æ –∑–∞–ø–æ–≤–Ω—ñ—Ç—å:**
- `TELEGRAM_BOT_TOKEN` - —Ç–æ–∫–µ–Ω –≤—ñ–¥ @BotFather
- `GEMINI_API_KEY` - API –∫–ª—é—á –∑ Google AI Studio
- `ADMIN_ID` - –≤–∞—à Telegram ID

### 3. üê≥ –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker

#### –î–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏:
```bash
docker-compose up -d
```

#### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω:
```bash
docker-compose -f docker-compose.prod.yml up -d
```

### 4. üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É
docker-compose ps

# –ü–µ—Ä–µ–≥–ª—è–¥ –ª–æ–≥—ñ–≤
docker-compose logs -f gryag-bot

# Health check
docker exec gryag-bot python -c "from bot.modules.health_checker import HealthChecker; hc = HealthChecker(); print(hc.get_health_status())"
```

### 5. üîß –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è

```bash
# –ó—É–ø–∏–Ω–∫–∞
docker-compose down

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker-compose restart

# –û–Ω–æ–≤–ª–µ–Ω–Ω—è (–∑ –Ω–æ–≤–∏–º –∞—Ä—Ö—ñ–≤–æ–º)
docker-compose down
docker-compose build --no-cache
docker-compose up -d
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É –≤ –∞—Ä—Ö—ñ–≤—ñ

```
gryag-bot-v2.8-docker-optimized/
‚îú‚îÄ‚îÄ üìÑ requirements.txt          # Python –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
‚îú‚îÄ‚îÄ üêç start.py                  # –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫—É
‚îú‚îÄ‚îÄ üê≥ Dockerfile                # Docker –æ–±—Ä–∞–∑
‚îú‚îÄ‚îÄ üê≥ docker-compose.yml        # Docker Compose (dev)
‚îú‚îÄ‚îÄ üê≥ docker-compose.prod.yml   # Docker Compose (prod)
‚îú‚îÄ‚îÄ üìÑ .dockerignore             # –í–∏–∫–ª—é—á–µ–Ω–Ω—è –¥–ª—è Docker
‚îú‚îÄ‚îÄ üìÑ .env.sample               # –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
‚îú‚îÄ‚îÄ üìñ README.md                 # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ üìã CHANGELOG.md              # –Ü—Å—Ç–æ—Ä—ñ—è –∑–º—ñ–Ω
‚îú‚îÄ‚îÄ üß™ test_*.py                 # –ö—Ä–∏—Ç–∏—á–Ω—ñ —Ç–µ—Å—Ç–∏
‚îî‚îÄ‚îÄ ü§ñ bot/                      # –ö–æ–¥ –±–æ—Ç–∞
    ‚îú‚îÄ‚îÄ main.py                  # –ì–æ–ª–æ–≤–Ω–∏–π —Ñ–∞–π–ª
    ‚îú‚îÄ‚îÄ bot_config.py            # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
    ‚îî‚îÄ‚îÄ modules/                 # –ú–æ–¥—É–ª—ñ –±–æ—Ç–∞
        ‚îú‚îÄ‚îÄ gemini_enhanced.py   # Gemini API —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è
        ‚îú‚îÄ‚îÄ enhanced_behavior.py # –†–æ–∑—É–º–Ω–∞ –ø–æ–≤–µ–¥—ñ–Ω–∫–∞
        ‚îú‚îÄ‚îÄ rate_limiter.py      # –û–±–º–µ–∂–µ–Ω–Ω—è —à–≤–∏–¥–∫–æ—Å—Ç—ñ
        ‚îú‚îÄ‚îÄ backup_manager.py    # –ë–µ–∫–∞–ø–∏
        ‚îú‚îÄ‚îÄ health_checker.py    # –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –∑–¥–æ—Ä–æ–≤'—è
        ‚îî‚îÄ‚îÄ ... (—ñ–Ω—à—ñ –º–æ–¥—É–ª—ñ)
```

## üîí –ë–µ–∑–ø–µ–∫–∞

- ‚úÖ Non-root –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ
- ‚úÖ Read-only mount –¥–ª—è .env —Ñ–∞–π–ª—É
- ‚úÖ –û–±–º–µ–∂–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤ CPU/RAM
- ‚úÖ Health checks –¥–ª—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –±–µ–∫–∞–ø–∏ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

## üîß –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ –≤–µ—Ä—Å—ñ—ó v2.8

- ‚úÖ –û–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∏–π Docker –æ–±—Ä–∞–∑
- ‚úÖ –ü–æ–∫—Ä–∞—â–µ–Ω—ñ health checks
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—ó –º–æ–≤–Ω–æ—ó –º–æ–¥–µ–ª—ñ spaCy
- ‚úÖ –ü—Ä–æ–¥–∞–∫—à–Ω-–≥–æ—Ç–æ–≤–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
- ‚úÖ –õ–æ–≥—É–≤–∞–Ω–Ω—è –∑ —Ä–æ—Ç–∞—Ü—ñ—î—é
- ‚úÖ –û–±–º–µ–∂–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤

## üìû –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–ü—Ä–∏ –≤–∏–Ω–∏–∫–Ω–µ–Ω–Ω—ñ –ø—Ä–æ–±–ª–µ–º:
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏: `docker-compose logs gryag-bot`
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ health status
3. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ .env —Ñ–∞–π–ª –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π
4. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ Docker –º–∞—î –¥–æ—Å—Ç–∞—Ç–Ω—å–æ —Ä–µ—Å—É—Ä—Å—ñ–≤

## üîÑ –û–Ω–æ–≤–ª–µ–Ω–Ω—è

–î–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–æ –Ω–æ–≤–æ—ó –≤–µ—Ä—Å—ñ—ó:
1. –ó—Ä–æ–±—ñ—Ç—å –±–µ–∫–∞–ø –¥–∞–Ω–∏—Ö: `docker exec gryag-bot python -c "from bot.modules.backup_manager import backup_database; backup_database()"`
2. –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –Ω–æ–≤–∏–π –∞—Ä—Ö—ñ–≤
3. –ó—É–ø–∏–Ω—ñ—Ç—å –ø–æ—Ç–æ—á–Ω—É –≤–µ—Ä—Å—ñ—é: `docker-compose down`
4. –†–æ–∑–≥–æ—Ä–Ω—ñ—Ç—å –Ω–æ–≤—É –≤–µ—Ä—Å—ñ—é –∑–∞ —Ü—ñ—î—é —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—î—é
