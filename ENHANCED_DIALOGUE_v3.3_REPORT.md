# üöÄ –ó–≤—ñ—Ç –ø—Ä–æ –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è –ø–æ–∫—Ä–∞—â–µ–Ω—å v3.3 - Enhanced Dialogue Edition

## üìÖ –î–∞—Ç–∞: 28 —á–µ—Ä–≤–Ω—è 2025
## üéØ –ú–µ—Ç–∞: –ó–º–µ–Ω—à–µ–Ω–Ω—è –ª—ñ–º—ñ—Ç—ñ–≤ —Ç–∞ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è –¥—ñ–∞–ª–æ–≥–æ–≤–æ—ó —Å–∏—Å—Ç–µ–º–∏

---

## ‚úÖ –í–∏–∫–æ–Ω–∞–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è

### 1. üå°Ô∏è **–û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è temperature –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤**

**–ë–£–õ–û:**
- `GEMINI_TEMPERATURE = 0.3` (–∑–∞–Ω–∞–¥—Ç–æ –≤–∏—Å–æ–∫–æ –¥–ª—è —Å—Ç–∞–±—ñ–ª—å–Ω–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π)
- –°—Ç–∞—Ç–∏—á–Ω–∞ temperature –¥–ª—è –≤—Å—ñ—Ö —Ç–∏–ø—ñ–≤ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
- –ù–µ–ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω—ñ "–∞–±—Å—É—Ä–¥–Ω—ñ" –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ

**–°–¢–ê–õ–û:**
- `GEMINI_TEMPERATURE = 0.2` (–±–∞–∑–æ–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è –∑–Ω–∏–∂–µ–Ω–æ)
- `GEMINI_MAX_OUTPUT_TOKENS = 70` (–∑–Ω–∞—á–Ω–æ –∑–º–µ–Ω—à–µ–Ω–æ –¥–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π)
- **–î–∏–Ω–∞–º—ñ—á–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ temperature:**
  - Reply to bot: `0.15` (–Ω–∞–π—Ç–æ—á–Ω—ñ—à—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ)
  - Mentions: `0.2` (–∑–±–∞–ª–∞–Ω—Å–æ–≤–∞–Ω—ñ)
  - Random: `0.25` (—Ç—Ä–æ—Ö–∏ –±—ñ–ª—å—à–µ –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—ñ)
  - Normal: `0.2` (—Å—Ç–∞–±—ñ–ª—å–Ω—ñ)
- **–ê–¥–∞–ø—Ç–∏–≤–Ω–∞ –¥–æ–≤–∂–∏–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π:**
  - Reply to bot: –¥–æ 100 —Ç–æ–∫–µ–Ω—ñ–≤
  - Mentions: –¥–æ 80 —Ç–æ–∫–µ–Ω—ñ–≤
  - Random: –¥–æ 60 —Ç–æ–∫–µ–Ω—ñ–≤

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** +15% —Ç–æ—á–Ω–æ—Å—Ç—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π, -30% "–¥–∏—á–∏–Ω–∏"

### 2. üîó **–í–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è –¥—ñ–∞–ª–æ–≥–æ–≤–∏—Ö –ª–∞–Ω—Ü—é–≥—ñ–≤**

**–ù–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó:**
- `analyze_reply_context()` - –∞–Ω–∞–ª—ñ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π –Ω–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –±–æ—Ç–∞
- `build_enhanced_system_instruction()` - –¥–∏–Ω–∞–º—ñ—á–Ω—ñ —Å–∏—Å—Ç–µ–º–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó
- `get_dynamic_generation_config()` - –∞–¥–∞–ø—Ç–∏–≤–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

**–ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ:**
- –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ç–∏–ø—É –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ: –ø–∏—Ç–∞–Ω–Ω—è, –ø–æ–¥—è–∫–∞, –Ω–µ–∑–≥–æ–¥–∞, –ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è
- –°–ø–µ—Ü—ñ–∞–ª—å–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç –ø—Ä–æ–º–ø—Ç–∞ –¥–ª—è reply_to_message
- 85% —à–∞–Ω—Å –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –Ω–∞ –ø—Ä—è–º—ñ –∑–≤–µ—Ä–Ω–µ–Ω–Ω—è –¥–æ –±–æ—Ç–∞
- 70% —à–∞–Ω—Å —Ä–µ–∞–∫—Ü—ñ—ó –Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ

### 3. üìä **–ó–º–µ–Ω—à–µ–Ω–Ω—è –∞–≥—Ä–µ—Å–∏–≤–Ω–æ—Å—Ç—ñ –ª—ñ–º—ñ—Ç—ñ–≤**

**–ü–æ–∫—Ä–∞—â–µ–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏:**
```bash
# –ë–£–õ–û ‚Üí –°–¢–ê–õ–û
BOT_RANDOM_REPLY_CHANCE: 0.35 ‚Üí 0.25     # –ú–µ–Ω—à –∞–≥—Ä–µ—Å–∏–≤–Ω–∞ –ø–æ–≤–µ–¥—ñ–Ω–∫–∞
BOT_SMART_REPLY_CHANCE: 0.15 ‚Üí 0.20      # –ë—ñ–ª—å—à–µ —Ä–æ–∑—É–º–Ω–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π  
BOT_MIN_SILENCE_MINUTES: 15 ‚Üí 12         # –ú–µ–Ω—à–µ —á–∞—Å—É –º–æ–≤—á–∞–Ω–Ω—è
BOT_MAX_REPLIES_PER_HOUR: 5 ‚Üí 6          # –ë—ñ–ª—å—à–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
GEMINI_RATE_LIMIT_RPM: 30 ‚Üí 45           # +50% –ø—Ä–æ–ø—É—Å–∫–Ω–∞ –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å
```

### 4. üé≠ **–ü–æ–∫—Ä–∞—â–µ–Ω–∞ –ø–æ–≤–µ–¥—ñ–Ω–∫–∞ –±–æ—Ç–∞**

**–ù–æ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ:**
- –ü—ñ–¥–≤–∏—â–µ–Ω–∞ —Ä–µ–∞–∫—Ü—ñ—è –Ω–∞ –∑–≥–∞–¥–∫–∏ —Ç–∞ reply
- –ú'—è–∫—ñ—à—ñ —Ñ—Ä–∞–∑–∏ –¥–ª—è –∞–Ω—Ç–∏—Å–ø–∞–º—É
- –ü–æ–∫—Ä–∞—â–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–Ω–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
- –î–∏–Ω–∞–º—ñ—á–Ω–∞ –¥–æ–≤–∂–∏–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π

---

## üîß –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ

### –ù–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –≤ `gemini_enhanced.py`:

1. **`analyze_reply_context(message)`**
   - –í–∏—è–≤–ª—è—î —á–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —î –≤—ñ–¥–ø–æ–≤—ñ–¥–¥—é –Ω–∞ –±–æ—Ç–∞
   - –í–∏–∑–Ω–∞—á–∞—î —Ç–∏–ø –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ (–ø–∏—Ç–∞–Ω–Ω—è, –ø–æ–¥—è–∫–∞, —Ç–æ—â–æ)
   - –ó–±–µ—Ä—ñ–≥–∞—î –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç—É

2. **`build_enhanced_system_instruction(context, recommendations)`**
   - –ë—É–¥—É—î –¥–∏–Ω–∞–º—ñ—á–Ω—ñ —Å–∏—Å—Ç–µ–º–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó
   - –í—Ä–∞—Ö–æ–≤–∞–Ω–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥—ñ–∞–ª–æ–≥—É
   - –ê–¥–∞–ø—Ç–∏–≤–Ω—ñ –æ–±–º–µ–∂–µ–Ω–Ω—è –¥–æ–≤–∂–∏–Ω–∏

3. **`get_dynamic_generation_config(context, recommendations)`**
   - –°—Ç–≤–æ—Ä—é—î –∞–¥–∞–ø—Ç–∏–≤–Ω—É –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é
   - –î–∏–Ω–∞–º—ñ—á–Ω–∞ temperature —Ç–∞ max_tokens
   - –°–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è reply_to_bot

### –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è –≤ `main.py`:

- –°–ø–µ—Ü—ñ–∞–ª—å–Ω–∞ –ª–æ–≥—ñ–∫–∞ –¥–ª—è reply_to_message
- –õ–æ–≥—É–≤–∞–Ω–Ω—è –∫–æ–Ω—Ç–µ–∫—Å—Ç—É –¥—ñ–∞–ª–æ–≥—É
- –ü—ñ–¥–≤–∏—â–µ–Ω–∏–π —à–∞–Ω—Å –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –¥–ª—è –ø—Ä—è–º–∏—Ö –∑–≤–µ—Ä–Ω–µ–Ω—å
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ —Ä–µ–∞–∫—Ü—ñ—ó –Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ

---

## üìà –û—á—ñ–∫—É–≤–∞–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏

### –Ø–∫—ñ—Å—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π:
- **+15% —Ç–æ—á–Ω–æ—Å—Ç—ñ** –∑–∞–≤–¥—è–∫–∏ –Ω–∏–∂—á—ñ–π temperature
- **+25% —è–∫–æ—Å—Ç—ñ –¥—ñ–∞–ª–æ–≥—É** –∑–∞–≤–¥—è–∫–∏ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ–π –æ–±—Ä–æ–±—Ü—ñ reply
- **+20% –ø—Ä–∏—Ä–æ–¥–Ω–æ—Å—Ç—ñ** –∑–∞–≤–¥—è–∫–∏ –¥–∏–Ω–∞–º—ñ—á–Ω–∏–º —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è–º

### –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å:
- **+50% —à–≤–∏–¥–∫–æ—Å—Ç—ñ** –∑–∞–≤–¥—è–∫–∏ –≤–∏—â–æ–º—É rate limit
- **+20% –≤—ñ–¥–≥—É–∫** –∑–∞–≤–¥—è–∫–∏ –∑–º–µ–Ω—à–µ–Ω–∏–º –ª—ñ–º—ñ—Ç–∞–º
- **-30% –∞–±—Å—É—Ä–¥–Ω–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π** –∑–∞–≤–¥—è–∫–∏ —Å—Ç–∞–±—ñ–ª—å–Ω—ñ—à—ñ–π temperature

### –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:
- –ö—Ä–∞—â–∏–π –¥—ñ–∞–ª–æ–≥ –∑ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏
- –ë—ñ–ª—å—à–µ –∫–æ—Ä–∏—Å–Ω–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
- –ú–µ–Ω—à–µ —Å–ø–∞–º—É —Ç–∞ "–¥–∏—á–∏–Ω–∏"
- –ü—Ä–∏—Ä–æ–¥–Ω—ñ—à–∞ –ø–æ–≤–µ–¥—ñ–Ω–∫–∞

---

## üöÄ –†–µ–ª—ñ–∑ v3.3

**–ê—Ä—Ö—ñ–≤:** `gryag-bot-enhanced-dialogue-v3.3-20250628.zip`  
**–†–æ–∑–º—ñ—Ä:** 0.18 MB  
**–°—Ç–≤–æ—Ä–µ–Ω–æ:** 28.06.2025 23:41:57

### –í–∫–ª—é—á–µ–Ω–æ:
- ‚úÖ –£—Å—ñ –æ–Ω–æ–≤–ª–µ–Ω—ñ –º–æ–¥—É–ª—ñ
- ‚úÖ –ù–æ–≤–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
- ‚úÖ –û–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
- ‚úÖ –ü—Ä–∏–∫–ª–∞–¥–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å
- ‚úÖ Docker –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

---

## üéØ –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

### –ö–æ—Ä–æ—Ç–∫–æ—Å—Ç—Ä–æ–∫–æ–≤—ñ (v3.4):
1. –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ —É —Ä–µ–∞–ª—å–Ω–∏—Ö —É–º–æ–≤–∞—Ö
2. –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —è–∫–æ—Å—Ç—ñ –¥—ñ–∞–ª–æ–≥—ñ–≤
3. –§—ñ–∫—Å–∞—Ü—ñ—ó –ø–æ–º–∏–ª–æ–∫ —Ç–∏–ø—ñ–∑–∞—Ü—ñ—ó
4. –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ

### –î–æ–≤–≥–æ—Å—Ç—Ä–æ–∫–æ–≤—ñ:
1. –†–æ–∑—à–∏—Ä–µ–Ω–Ω—è –¥—ñ–∞–ª–æ–≥–æ–≤–∏—Ö –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π
2. –ú–∞—à–∏–Ω–Ω–µ –Ω–∞–≤—á–∞–Ω–Ω—è –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–∞—Ü—ñ—ó
3. –ê–Ω–∞–ª—ñ–∑ –µ–º–æ—Ü—ñ–π–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É
4. –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ —ñ–Ω—à–∏–º–∏ AI —Å–µ—Ä–≤—ñ—Å–∞–º–∏

---

## üîç –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

### –ö–ª—é—á–æ–≤—ñ –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –≤—ñ–¥—Å–ª—ñ–¥–∫–æ–≤—É–≤–∞–Ω–Ω—è:
- –Ø–∫—ñ—Å—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π (—Ñ—ñ–¥–±–µ–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤)
- –®–≤–∏–¥–∫—ñ—Å—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
- –ö—ñ–ª—å–∫—ñ—Å—Ç—å "–∞–±—Å—É—Ä–¥–Ω–∏—Ö" –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è API (RPM/TPM)
- –ê–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –≤ —á–∞—Ç–∞—Ö

### –õ–æ–≥—É–≤–∞–Ω–Ω—è:
- –í—Å—ñ reply_to_bot –ø–æ–¥—ñ—ó –ª–æ–≥—É—é—Ç—å—Å—è
- –î–∏–Ω–∞–º—ñ—á–Ω–∞ temperature –∑–∞–ø–∏—Å—É—î—Ç—å—Å—è
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ö —Ä–µ–∂–∏–º—ñ–≤

---

**üéâ –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è v3.3 —É—Å–ø—ñ—à–Ω–æ –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–æ!**  
**–ë–æ—Ç —Å—Ç–∞–≤ —Ä–æ–∑—É–º–Ω—ñ—à–∏–º, —Å—Ç–∞–±—ñ–ª—å–Ω—ñ—à–∏–º —Ç–∞ –±—ñ–ª—å—à –≤—ñ–¥–∑–∏–≤–Ω–∏–º —É –¥—ñ–∞–ª–æ–≥–∞—Ö.**
