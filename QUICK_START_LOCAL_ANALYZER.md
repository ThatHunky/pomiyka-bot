# –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç –∑ –ª–æ–∫–∞–ª—å–Ω–∏–º –∞–Ω–∞–ª—ñ–∑–∞—Ç–æ—Ä–æ–º

## –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

### 1. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ

```bash
# –û—Å–Ω–æ–≤–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ (–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)
pip install sentence-transformers>=2.2.2
pip install numpy>=1.24.0
pip install scikit-learn>=1.3.0

# –î–ª—è –∫—Ä–∞—â–æ—ó –æ–±—Ä–æ–±–∫–∏ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—ó –º–æ–≤–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)
pip install spacy>=3.7.0
python -m spacy download uk_core_news_sm
```

### 2. –û–Ω–æ–≤—ñ—Ç—å .env —Ñ–∞–π–ª

–î–æ–¥–∞–π—Ç–µ –≤ –≤–∞—à `.env` —Ñ–∞–π–ª:

```bash
# –õ–æ–∫–∞–ª—å–Ω–∏–π –∞–Ω–∞–ª—ñ–∑–∞—Ç–æ—Ä
BOT_LOCAL_ANALYSIS_ENABLED=true
BOT_LOCAL_MODEL_TYPE=sentence_transformers
BOT_ANALYSIS_BATCH_SIZE=5
BOT_ANALYSIS_CACHE_HOURS=24
BOT_ENHANCED_CONTEXT_ENABLED=true
```

### 3. –ü—Ä–æ—Ç–µ—Å—Ç—É–π—Ç–µ

```bash
python test_local_analyzer.py
```

## –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–æ–±–æ—Ç–∏

### –í Telegram –±–æ—Ç—ñ:

1. –ù–∞–ø–∏—à—ñ—Ç—å: **"–ì—Ä—è–≥, —è–∫ —Å–ø—Ä–∞–≤–∏?"**
   - –ë–æ—Ç –ø–æ–≤–∏–Ω–µ–Ω –≤—ñ–¥–ø–æ–≤—ñ—Å—Ç–∏ –±—ñ–ª—å—à –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ

2. –°–ø—Ä–æ–±—É–π—Ç–µ —Ç–µ—Ö–Ω—ñ—á–Ω—É —Ç–µ–º—É: **"–ì—Ä—è–≥, –ø–æ—è—Å–Ω–∏ —è–∫ –ø—Ä–∞—Ü—é—î React"**
   - –ë–æ—Ç –ø–æ–≤–∏–Ω–µ–Ω —Ä–æ–∑–ø—ñ–∑–Ω–∞—Ç–∏ —Ç–µ—Ö–Ω—ñ—á–Ω—É —Ç–µ–º–∞—Ç–∏–∫—É

3. –ï–º–æ—Ü—ñ–π–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è: **"–î—É–∂–µ —Å—É–º–Ω–æ üò¢"**
   - –ë–æ—Ç –ø–æ–≤–∏–Ω–µ–Ω –≤—ñ–¥–ø–æ–≤—ñ—Å—Ç–∏ –ø—ñ–¥—Ç—Ä–∏–º—É—é—á–∏–º —Ç–æ–Ω–æ–º

### –ê–¥–º—ñ–Ω –∫–æ–º–∞–Ω–¥–∏:

- `/health` - —Å—Ç–∞—Ç—É—Å –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª—ñ–∑–∞—Ç–æ—Ä–∞
- `/analytics` - –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞ —á–∞—Ç—É

## –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è i5-6500

### –û–ø—Ç–∏–º–∞–ª—å–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è:

```bash
BOT_ANALYSIS_BATCH_SIZE=5          # –ù–µ –±—ñ–ª—å—à–µ –¥–ª—è –≤–∞—à–æ–≥–æ CPU
BOT_ANALYSIS_CACHE_HOURS=24        # –ë–∞–ª–∞–Ω—Å –º—ñ–∂ —è–∫—ñ—Å—Ç—é —Ç–∞ –ø–∞–º'—è—Ç—Ç—é
BOT_LOCAL_MODEL_TYPE=sentence_transformers  # –õ–µ–≥—à–∏–π –∑–∞ ollama
```

### –Ø–∫—â–æ –±—Ä–∞–∫—É—î –ø–∞–º'—è—Ç—ñ:

```bash
BOT_ANALYSIS_BATCH_SIZE=3          # –ó–º–µ–Ω—à—ñ—Ç—å –ø–∞–∫–µ—Ç
BOT_ANALYSIS_CACHE_HOURS=12        # –ó–º–µ–Ω—à—ñ—Ç—å –∫–µ—à
```

### –Ø–∫—â–æ –ø–æ–≤—ñ–ª—å–Ω–æ –ø—Ä–∞—Ü—é—î:

```bash
BOT_LOCAL_ANALYSIS_ENABLED=false   # –¢–∏–º—á–∞—Å–æ–≤–æ –≤–∏–º–∫–Ω—ñ—Ç—å
# –ê–±–æ
BOT_ANALYSIS_BATCH_SIZE=2          # –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π –ø–∞–∫–µ—Ç
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü—ñ—Å–ª—è –≤–∫–ª—é—á–µ–Ω–Ω—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª—ñ–∑–∞—Ç–æ—Ä–∞ –≤–∞—à –±–æ—Ç –±—É–¥–µ:

‚úÖ **–†–æ–∑—É–º–Ω—ñ—à–µ** –≤–∏–∑–Ω–∞—á–∞—Ç–∏ –µ–º–æ—Ü—ñ—ó —Ç–∞ —Ç–µ–º–∏  
‚úÖ **–ö—Ä–∞—â–µ** —Ä–æ–∑—É–º—ñ—Ç–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ä–æ–∑–º–æ–≤  
‚úÖ **–ü—Ä–∏—Ä–æ–¥–Ω—ñ—à–µ** –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—Ç–∏ –Ω–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è  
‚úÖ **–ï—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—à–µ** –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ Gemini API  

## –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

–î–∏–≤—ñ—Ç—å—Å—è –ª–æ–≥–∏ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç:

```
‚úÖ Sentence Transformer –º–æ–¥–µ–ª—å –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∞
‚úÖ spaCy —É–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –º–æ–¥–µ–ª—å –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∞  
üìä Analysis took 45ms, method: enhanced_local
```

–Ø–∫—â–æ –±–∞—á–∏—Ç–µ `method: regex_fallback` - –ª–æ–∫–∞–ª—å–Ω–∏–π –∞–Ω–∞–ª—ñ–∑–∞—Ç–æ—Ä –Ω–µ –ø—Ä–∞—Ü—é—î.
