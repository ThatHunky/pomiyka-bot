# üöÄ –ó–≤—ñ—Ç –ø—Ä–æ –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è –ø–æ–∫—Ä–∞—â–µ–Ω—å –±–æ—Ç–∞ "–ì—Ä—è–≥" v2.9

**–î–∞—Ç–∞:** 28 —á–µ—Ä–≤–Ω—è 2025  
**–í–µ—Ä—Å—ñ—è:** 2.9  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–æ

---

## üìã –í–∏–∫–æ–Ω–∞–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è

### 1. üó£Ô∏è –†–æ–∑—à–∏—Ä–µ–Ω–Ω—è —Å–ª–æ–≤–Ω–∏–∫–æ–≤–æ–≥–æ –∑–∞–ø–∞—Å—É
**–ü—Ä–æ–±–ª–µ–º–∞:** –ë–æ—Ç –∑–∞—Ü–∏–∫–ª—é–≤–∞–≤—Å—è –Ω–∞ —Å–ª–æ–≤—ñ "—Ç–∏—à–∞" —Ç–∞ –æ–±–º–µ–∂–µ–Ω–æ–º—É –Ω–∞–±–æ—Ä—ñ —Ñ—Ä–∞–∑

**–†—ñ—à–µ–Ω–Ω—è:**
- ‚úÖ –†–æ–∑—à–∏—Ä–µ–Ω–æ `RANDOM_REPLIES` –∑ 8 –¥–æ 20 –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
- ‚úÖ –ó–∞–º—ñ–Ω–µ–Ω–æ –≤—Å—ñ –∑–≥–∞–¥–∫–∏ "—Ç–∏—à–∞" –Ω–∞ —Ä—ñ–∑–Ω–æ–º–∞–Ω—ñ—Ç–Ω—ñ —Å–∏–Ω–æ–Ω—ñ–º–∏:
  - "—Å–ø–æ–∫—ñ–π", "–ø–∞—É–∑–∞", "–∑–∞—Ç–∏—à—à—è", "–ø–µ—Ä–µ—Ä–∏–≤", "–Ω–µ–º–∞—î –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ"
- ‚úÖ –î–æ–¥–∞–Ω–æ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—é –ø—Ä–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä—ñ–∑–Ω–æ–º–∞–Ω—ñ—Ç–Ω–∏—Ö —Å–ª—ñ–≤ —Ç–∞ –≤–∏—Ä–∞–∑—ñ–≤

### 2. üîÑ –°–∏—Å—Ç–µ–º–∞ —É–Ω–∏–∫–Ω–µ–Ω–Ω—è –ø–æ–≤—Ç–æ—Ä—ñ–≤
**–ü—Ä–æ–±–ª–µ–º–∞:** –ë–æ—Ç —á–∞—Å—Ç–æ –ø–æ–≤—Ç–æ—Ä—é–≤–∞–≤ —Å—Ö–æ–∂—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ

**–†—ñ—à–µ–Ω–Ω—è:**
- ‚úÖ –î–æ–¥–∞–Ω–æ –∫–µ—à –æ—Å—Ç–∞–Ω–Ω—ñ—Ö 10 –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å (`last_messages_cache`)
- ‚úÖ –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ —Ñ—É–Ω–∫—Ü—ñ—é `is_similar_to_cached()` –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Å—Ö–æ–∂–æ—Å—Ç—ñ
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –¥–æ 3 —Å–ø—Ä–æ–± –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó —É–Ω—ñ–∫–∞–ª—å–Ω–æ—ó –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –¥–æ–¥–∞–≤–∞–Ω–Ω—è —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó "–¥–∞–π —ñ–Ω—à—É –≤—ñ–¥–ø–æ–≤—ñ–¥—å" –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–∞—Ö

### 3. üéØ –ó–º–µ–Ω—à–µ–Ω–Ω—è –∞–≥—Ä–µ—Å–∏–≤–Ω–æ—Å—Ç—ñ
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–∞–¥—Ç–æ –∞–∫—Ç–∏–≤–Ω–∞ —Ç–∞ –∞–≥—Ä–µ—Å–∏–≤–Ω–∞ –ø–æ–≤–µ–¥—ñ–Ω–∫–∞ –±–æ—Ç–∞

**–†—ñ—à–µ–Ω–Ω—è:**
- ‚úÖ –ó–º–µ–Ω—à–µ–Ω–æ `random_reply_chance`: 25% ‚Üí 20%
- ‚úÖ –ó–º–µ–Ω—à–µ–Ω–æ `smart_reply_chance`: 4% ‚Üí 3%
- ‚úÖ –ó–º–µ–Ω—à–µ–Ω–æ `spontaneous_chance`: 0.8% ‚Üí 0.5%
- ‚úÖ –ó–±—ñ–ª—å—à–µ–Ω–æ `min_silence_minutes`: 25 ‚Üí 30 —Ö–≤–∏–ª–∏–Ω
- ‚úÖ –ó–±—ñ–ª—å—à–µ–Ω–æ `spontaneous_min_pause`: 35 ‚Üí 40 —Ö–≤–∏–ª–∏–Ω
- ‚úÖ –ú'—è–∫—à—ñ –∞–Ω—Ç–∏-—Å–ø–∞–º —Ñ—Ä–∞–∑–∏: "–Ω–µ —Å–ø–∞–º—Ç–µ", "–¥–∞–π—Ç–µ –ø–æ–¥–∏—Ö–∞—Ç–∏", "—Å–ø–æ–∫—ñ–π–Ω—ñ—à–µ"

### 4. üòä –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è —Ä–µ–∞–∫—Ü—ñ–π
**–ü—Ä–æ–±–ª–µ–º–∞:** –û–±–º–µ–∂–µ–Ω–∏–π –Ω–∞–±—ñ—Ä –µ–º–æ–¥–∂—ñ –¥–ª—è —Ä–µ–∞–∫—Ü—ñ–π

**–†—ñ—à–µ–Ω–Ω—è:**
- ‚úÖ –†–æ–∑—à–∏—Ä–µ–Ω–æ `REACTION_EMOJIS` –∑ 32 –¥–æ 48 –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤
- ‚úÖ –î–æ–¥–∞–Ω–æ –Ω–æ–≤—ñ –ø–æ–∑–∏—Ç–∏–≤–Ω—ñ —Ä–µ–∞–∫—Ü—ñ—ó: üòé, üôå, üöÄ, üåü, üí™, ü§ò, ‚úåÔ∏è, ü§û
- ‚úÖ –î–æ–¥–∞–Ω–æ –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ñ —Ä–µ–∞–∫—Ü—ñ—ó: üßê, ü§®, üëÄ, üéØ, üéÆ, üé≤
- ‚úÖ –ü–æ–∫—Ä–∞—â–µ–Ω–æ –ª–æ–≥—ñ–∫—É –≤–∏–±–æ—Ä—É —Ä–µ–∞–∫—Ü—ñ–π –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É

### 5. üìä –ü–æ–∫—Ä–∞—â–µ–Ω–∞ –ª–æ–≥—ñ–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–µ—Ñ–µ–∫—Ç–∏–≤–Ω–µ —Ñ–æ—Ä–º—É–≤–∞–Ω–Ω—è –∫–æ–Ω—Ç–µ–∫—Å—Ç—É –¥–ª—è AI

**–†—ñ—à–µ–Ω–Ω—è:**
- ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–æ –Ω–æ–≤–∏–π –º–æ–¥—É–ª—å `context_enhanced.py`
- ‚úÖ –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –±–∞–≥–∞—Ç–æ—Ä—ñ–≤–Ω–µ–≤—É –∞–≥—Ä–µ–≥–∞—Ü—ñ—é –∫–æ–Ω—Ç–µ–∫—Å—Ç—É
- ‚úÖ –î–æ–¥–∞–Ω–æ —Å–∏—Å—Ç–µ–º—É –æ—Ü—ñ–Ω–∫–∏ –≤–∞–∂–ª–∏–≤–æ—Å—Ç—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å (scoring)
- ‚úÖ –í–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–æ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—é —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
- ‚úÖ –î–æ–¥–∞–Ω–æ –∞–Ω–∞–ª—ñ–∑ –Ω–∞—Å—Ç—Ä–æ—é —Ç–∞ —Ç–µ–º–∏ —á–∞—Ç—É
- ‚úÖ –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ summary –ø–æ –≥–æ–¥–∏–Ω–∞—Ö –¥–ª—è –∫—Ä–∞—â–æ–≥–æ —Ä–æ–∑—É–º—ñ–Ω–Ω—è

### 6. üé® –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è —Å–ø–æ–Ω—Ç–∞–Ω–Ω–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
**–ü—Ä–æ–±–ª–µ–º–∞:** –û–¥–Ω–æ–º–∞–Ω—ñ—Ç–Ω—ñ —Ç–∞ –Ω–µ–ø—Ä–∏—Ä–æ–¥–Ω—ñ —Å–ø–æ–Ω—Ç–∞–Ω–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è

**–†—ñ—à–µ–Ω–Ω—è:**
- ‚úÖ –†–æ–∑—à–∏—Ä–µ–Ω–æ –Ω–∞–±—ñ—Ä –ø—Ä–æ–º–ø—Ç—ñ–≤ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö —Å–∏—Ç—É–∞—Ü—ñ–π
- ‚úÖ –î–æ–¥–∞–Ω–æ –≤–∞—Ä—ñ–∞–Ω—Ç–∏ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –Ω–∞—Å—Ç—Ä–æ—ó–≤ —á–∞—Ç—É
- ‚úÖ –ü–æ–∫—Ä–∞—â–µ–Ω–æ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –¥–ª—è –ø—Ä–∏—Ä–æ–¥–Ω–æ–≥–æ —Å–ø—ñ–ª–∫—É–≤–∞–Ω–Ω—è
- ‚úÖ –í–∏–¥–∞–ª–µ–Ω–æ –≤—Å—ñ –∑–≥–∞–¥–∫–∏ –ø—Ä–æ "–∞–±—Å—É—Ä–¥–Ω—ñ—Å—Ç—å"

---

## üîß –¢–µ—Ö–Ω—ñ—á–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è

### –û–Ω–æ–≤–ª–µ–Ω—ñ —Ñ–∞–π–ª–∏:
1. **`bot/modules/random_life.py`**
   - –†–æ–∑—à–∏—Ä–µ–Ω–æ RANDOM_REPLIES
   - –î–æ–¥–∞–Ω–æ —Å–∏—Å—Ç–µ–º—É –∫–µ—à—É —Ç–∞ —É–Ω–∏–∫–Ω–µ–Ω–Ω—è –ø–æ–≤—Ç–æ—Ä—ñ–≤
   - –ü–æ–∫—Ä–∞—â–µ–Ω–æ –ø—Ä–æ–º—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π

2. **`bot/modules/smart_behavior.py`**
   - –û–Ω–æ–≤–ª–µ–Ω–æ —Å–ø–æ–Ω—Ç–∞–Ω–Ω—ñ –ø—Ä–æ–º–ø—Ç–∏
   - –ó–∞–º—ñ–Ω–µ–Ω–æ "—Ç–∏—à–∞" –Ω–∞ —Å–∏–Ω–æ–Ω—ñ–º–∏
   - –î–æ–¥–∞–Ω–æ –Ω–æ–≤—ñ –≤–∞—Ä—ñ–∞–Ω—Ç–∏ –Ω–∞—Å—Ç—Ä–æ—ó–≤

3. **`bot/modules/enhanced_behavior.py`**
   - –†–æ–∑—à–∏—Ä–µ–Ω–æ –≤–∞—Ä—ñ–∞–Ω—Ç–∏ —Å–ø–æ–Ω—Ç–∞–Ω–Ω–∏—Ö –ø—Ä–æ–º–ø—Ç—ñ–≤
   - –ü–æ–∫—Ä–∞—â–µ–Ω–æ –ª–æ–≥—ñ–∫—É –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Ç—Ä–µ–Ω–¥—ñ–≤
   - –î–æ–¥–∞–Ω–æ –±—ñ–ª—å—à–µ –≤–∞—Ä—ñ–∞—Ü—ñ–π –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö —Å–∏—Ç—É–∞—Ü—ñ–π

4. **`bot/bot_config.py`**
   - –ó–º–µ–Ω—à–µ–Ω–æ –∞–≥—Ä–µ—Å–∏–≤–Ω—ñ—Å—Ç—å –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å
   - –ú'—è–∫—à—ñ –∞–Ω—Ç–∏-—Å–ø–∞–º —Ñ—Ä–∞–∑–∏
   - –ó–±—ñ–ª—å—à–µ–Ω–æ –ø–∞—É–∑–∏ –º—ñ–∂ –∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—é

5. **`bot/modules/reactions.py`**
   - –†–æ–∑—à–∏—Ä–µ–Ω–æ –Ω–∞–±—ñ—Ä –µ–º–æ–¥–∂—ñ
   - –î–æ–¥–∞–Ω–æ –Ω–æ–≤—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó —Ä–µ–∞–∫—Ü—ñ–π
   - –ü–æ–∫—Ä–∞—â–µ–Ω–æ –ª–æ–≥—ñ–∫—É –≤–∏–±–æ—Ä—É

6. **`bot/modules/context_enhanced.py`** (–Ω–æ–≤–∏–π)
   - –ü–æ–∫—Ä–∞—â–µ–Ω–∞ –ª–æ–≥—ñ–∫–∞ —Ñ–æ—Ä–º—É–≤–∞–Ω–Ω—è –∫–æ–Ω—Ç–µ–∫—Å—Ç—É
   - –ë–∞–≥–∞—Ç–æ—Ä—ñ–≤–Ω–µ–≤–∞ –∞–≥—Ä–µ–≥–∞—Ü—ñ—è
   - –°–∏—Å—Ç–µ–º–∞ –æ—Ü—ñ–Ω–∫–∏ –≤–∞–∂–ª–∏–≤–æ—Å—Ç—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

---

## üìà –û—á—ñ–∫—É–≤–∞–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏

‚úÖ **–ë—ñ–ª—å—à —Ä—ñ–∑–Ω–æ–º–∞–Ω—ñ—Ç–Ω–∏–π —Å–ª–æ–≤–Ω–∏–∫** - –±–æ—Ç –Ω–µ –ø–æ–≤—Ç–æ—Ä—é–≤–∞—Ç–∏–º–µ –æ–¥–Ω—ñ –π —Ç—ñ –∂ —Ñ—Ä–∞–∑–∏  
‚úÖ **–ü—Ä–∏—Ä–æ–¥–Ω—ñ—à–µ —Å–ø—ñ–ª–∫—É–≤–∞–Ω–Ω—è** - –º–µ–Ω—à–µ "–∞–±—Å—É—Ä–¥–Ω–∏—Ö" —Ç–∞ –¥–∏–≤–Ω–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π  
‚úÖ **–ó–º–µ–Ω—à–µ–Ω–∞ –∞–≥—Ä–µ—Å–∏–≤–Ω—ñ—Å—Ç—å** - —Ä—ñ–¥—à–µ —Å–ø–æ–Ω—Ç–∞–Ω–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —Ç–∞ —Ä–µ–∞–∫—Ü—ñ—ó  
‚úÖ **–ö—Ä–∞—â–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç** - —Ä–æ–∑—É–º–Ω—ñ—à—ñ —Ç–∞ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ñ—à—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ  
‚úÖ **–£–Ω–∏–∫–Ω–µ–Ω–Ω—è –ø–æ–≤—Ç–æ—Ä—ñ–≤** - —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –¥–æ–∑–≤–æ–ª–∏—Ç—å –æ–¥–Ω–∞–∫–æ–≤—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ  

---

## üöÄ –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –¥–ª—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è

1. –ó—É–ø–∏–Ω–∏—Ç–∏ –ø–æ—Ç–æ—á–Ω—É –≤–µ—Ä—Å—ñ—é –±–æ—Ç–∞
2. –ó–∞–º—ñ–Ω–∏—Ç–∏ —Ñ–∞–π–ª–∏ –Ω–æ–≤–∏–º–∏ –≤–µ—Ä—Å—ñ—è–º–∏
3. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —É `.env` —Ñ–∞–π–ª—ñ
4. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –±–æ—Ç–∞
5. –ú–æ–Ω—ñ—Ç–æ—Ä–∏—Ç–∏ –ø–æ–≤–µ–¥—ñ–Ω–∫—É –ø–µ—Ä—à—ñ –≥–æ–¥–∏–Ω–∏

---

## üéØ –ü–æ–¥–∞–ª—å—à—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è

- [ ] –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª—ñ–∑–∞—Ç–æ—Ä–∞ –¥–ª—è –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è —Ä–æ–∑—É–º—ñ–Ω–Ω—è –∫–æ–Ω—Ç–µ–∫—Å—Ç—É
- [ ] –î–æ–¥–∞–≤–∞–Ω–Ω—è –ø–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–∞—Ü—ñ—ó –¥–ª—è –æ–∫—Ä–µ–º–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- [ ] –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è "–¥–æ–≤–≥–æ—Å—Ç—Ä–æ–∫–æ–≤–æ—ó –ø–∞–º'—è—Ç—ñ" –ø—Ä–æ –≤–∞–∂–ª–∏–≤—ñ –ø–æ–¥—ñ—ó
- [ ] –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏ —Ä–µ–∞–∫—Ü—ñ–π –Ω–∞ –º–µ–¥—ñ–∞-–∫–æ–Ω—Ç–µ–Ω—Ç
- [ ] –î–æ–¥–∞–≤–∞–Ω–Ω—è –∞–Ω–∞–ª—ñ—Ç–∏–∫–∏ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π

---

**–°—Ç–∞—Ç—É—Å:** üü¢ –ì–æ—Ç–æ–≤–æ –¥–æ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É  
**–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è:** –†–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –ø–µ—Ä—à—É –¥–æ–±—É –ø—ñ—Å–ª—è –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è
